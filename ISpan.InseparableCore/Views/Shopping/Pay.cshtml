@model Dictionary<string,string>
@{
    ViewData["Title"] = "Pay";
}

<link href="~/css/loading.css" rel="stylesheet" />
<div class="loadingdiv" id="loading" style="display: none">
    <img src="~/images/Infinity-1s-200px.gif" />
</div>
<form id="form" name="form" action="https://payment-stage.ecpay.com.tw/Cashier/AioCheckOut/V5" method="POST" enctype="application/x-www-form-urlencoded">
    @foreach (var key in @Model.Keys.ToList())
    {
        @(key) <input type="text" name="@key" value="@Model[key]" />

        <br />
    }
</form>
<script type="text/javascript">
    window.onload = function () {
        $('#loading').css("display", ""); //before submit
        document.getElementById("form").submit();
    }
</script>